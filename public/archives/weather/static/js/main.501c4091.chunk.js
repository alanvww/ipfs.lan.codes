(this["webpackJsonpjust weather"]=this["webpackJsonpjust weather"]||[]).push([[0],{38:function(e,t,c){},39:function(e,t,c){},67:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),i=c(30),s=c.n(i),r=(c(38),c(39),c(20),c(33)),o=c(3),h=c(10),l=c(16),j=c.n(l),d=c(0);var b=function(e){var t=e.cloudiness,c=e.currentTemp,n=e.highTemp,a=e.humidity,i=e.lowTemp,s=e.weatherDescription,r=e.weatherType,o=void 0===r?"Unknown":r,h=e.windSpeed;return Object(d.jsx)("section",{className:"WeatherCard",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("section",{className:"item",children:[Object(d.jsx)("h2",{children:"Current Weather"}),Object(d.jsx)("strong",{className:"highlightedData",children:o})]}),Object(d.jsxs)("section",{className:"item",children:[Object(d.jsx)("h2",{children:"Current Temperature"}),Object(d.jsxs)("strong",{className:"highlightedData",children:[c,"\xb0C"]})]}),Object(d.jsxs)("section",{className:"item",children:[Object(d.jsx)("h2",{children:"Low - High"}),Object(d.jsxs)("strong",{className:"highlightedData",children:[i,"\xb0C - ",n,"\xb0C"]})]}),Object(d.jsxs)("section",{className:"item",children:[Object(d.jsx)("h2",{children:"Cloudiness"}),Object(d.jsx)("strong",{className:"highlightedData",children:t})]}),Object(d.jsxs)("section",{className:"item",children:[Object(d.jsx)("h2",{children:"Humidity"}),Object(d.jsx)("strong",{className:"highlightedData",children:a})]}),Object(d.jsxs)("section",{className:"item",children:[Object(d.jsx)("h2",{children:"Description"}),Object(d.jsx)("strong",{className:"highlightedData",children:s})]}),Object(d.jsxs)("section",{className:"item",children:[Object(d.jsx)("h2",{children:"Wind Speed"}),Object(d.jsxs)("strong",{className:"highlightedData",children:[h,"mph"]})]})]})})},m=c(17),u=c.n(m),O="70b0bdefd6b84baa7449b2155d0dd184",g=c(7),p=c(8);var x=function(e){switch(e.weatherType){default:return Object(d.jsx)(g.a,{icon:p.a});case"Clear":return Object(d.jsx)(g.a,{icon:p.d});case"Rain":return Object(d.jsx)(g.a,{icon:p.b});case"Snow":return Object(d.jsx)(g.a,{icon:p.c})}};u.a.accessToken="pk.eyJ1IjoibGFudnd3IiwiYSI6ImNrdXIxdHVuejBpMWQydnBqY2JrMzVobjYifQ.wXmDID7ZWPjlbJsxCMAb3Q";var w=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null);Object(n.useEffect)((function(){t.current||T&&(t.current=new u.a.Map({container:e.current,style:"mapbox://styles/mapbox/light-v10",center:[P,R],zoom:10}))}));var c=Object(n.useState)(),a=Object(h.a)(c,2),i=a[0],s=a[1],r=Object(n.useState)(),l=Object(h.a)(r,2),m=l[0],g=l[1],p=Object(n.useState)(),w=Object(h.a)(p,2),f=w[0],y=w[1],N=Object(n.useState)(),v=Object(h.a)(N,2),T=v[0],C=v[1],D=new URLSearchParams(Object(o.f)().search),S="https://api.openweathermap.org/data/2.5/weather?q=".concat(i,"&appid=").concat(O),L="https://api.openweathermap.org/data/2.5/weather?lat=".concat(f,"&lon=").concat(m,"&appid=").concat(O);function k(e){g(e.coords.longitude),y(e.coords.latitude)}Object(n.useEffect)((function(){if(D.get("city")){var e=D.get("city");s(e)}else navigator.geolocation?navigator.geolocation.getCurrentPosition(k):(s("osaka"),console.log("Geolocation is not supported by this browser."))}),[D]),Object(n.useEffect)((function(){i?j.a.get(S).then((function(e){C(e.data),console.log(e)})).catch((function(e){console.log(e)})):j.a.get(L).then((function(e){C(e.data),s(T.name),console.log(e)})).catch((function(e){console.log(e)}))}),[L,S,i]);var I=Object(n.useMemo)((function(){return T?{cloudiness:T.clouds.all,currentTemp:Math.round(T.main.temp-273.15),highTemp:Math.round(T.main.temp_max-273.15),humidity:T.main.humidity,lowTemp:Math.round(T.main.temp_min-273.15),weatherDescription:T.weather[0].description,weatherType:T.weather[0].main,windSpeed:T.wind.speed,weatherLng:T.coord.lon,weatherLat:T.coord.lat,currentCity:T.name}:{}}),[T]),M=I.cloudiness,A=I.currentTemp,B=I.highTemp,E=I.humidity,F=I.lowTemp,W=I.weatherDescription,H=I.weatherType,J=I.windSpeed,P=I.weatherLng,R=I.weatherLat,Y=I.currentCity;if(document.getElementById("copyright")){var Q='Made by <a href="mailto:alan.ren@pm.me">@Alan Ren</a> &copy;'+(new Date).getFullYear();document.getElementById("copyright").innerHTML=Q}return Object(d.jsxs)("main",{className:"App",children:[Object(d.jsxs)("header",{children:[Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{className:"cityList",children:[Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/",className:!i&&"Active",children:"Current Location"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/?city=osaka",className:"osaka"===i&&"Active",children:"Osaka"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/?city=chicago",className:"chicago"===i&&"Active",children:"Chicago"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/?city=hongkong",className:"hongkong"===i&&"Active",children:"Hongkong"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/?city=london",className:"london"===i&&"Active",children:"London"})}),Object(d.jsx)("li",{children:Object(d.jsx)("a",{href:"/?city=chengdu",className:"chengdu"===i&&"Active",children:"Chengdu"})})]})}),Object(d.jsx)("h1",{className:"Location",style:{textShadow:"0 0 10px rgb(".concat(255-M,",").concat(255-M,",").concat(255-M,")")},children:Y}),Object(d.jsx)("section",{className:"WeatherIcon",style:{color:"rgba(".concat(255-M/2,",").concat(255-M/2,",").concat(255-M/2,",1")},children:Object(d.jsx)(x,{weatherType:H})}),Object(d.jsx)("div",{children:Object(d.jsx)("div",{ref:e,className:"map-container"})})]}),Object(d.jsx)(b,{cloudiness:M,currentTemp:A,highTemp:B,humidity:E,lowTemp:F,weatherDescription:W,weatherType:H,windSpeed:J}),Object(d.jsx)("footer",{id:"copyright"})]})};var f=function(){return Object(d.jsx)("div",{className:"App",children:Object(d.jsx)(r.a,{children:Object(d.jsx)(o.c,{children:Object(d.jsx)(o.a,{path:"/",children:Object(d.jsx)(w,{})})})})})},y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,68)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))};s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(f,{})}),document.getElementById("root")),y()}},[[67,1,2]]]);
//# sourceMappingURL=main.501c4091.chunk.js.map